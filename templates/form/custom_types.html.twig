{% block twitch_row %}

{{ encore_entry_script_tags('twitch-selector') }}
{{ encore_entry_link_tags('twitch-selector') }}

{% set searchType = value.itemType ?? form.searchType.vars.value %}
<div class="box">
    {% if searchType %}
    <div class="box-header">
        <h3 class="box-title">Search Twitch</h3>
    </div>

    <div class="box-body">
        {% for child in form.children|filter(child => not child.rendered) %}
        <div class="form-group">
            {{ form_label(child) }}
            {{ form_widget(child) }}
            {{ form_help(child) }}
            {{ form_errors(child) }}
        </div>
        {% endfor %}
        <div id="app-twitch-selector" data-item-type="{{ searchType }}">
            <twitch-selector></twitch-selector>
        </div>
    {% else %}
    <div class="box-header">
        <h3 class="box-title">You can only add an item through "Manage Items" on a home row</h3>
    </div>
    {% endif %}
    </div>
</div>
{% endblock %}
